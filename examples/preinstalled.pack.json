{
  "name": "preinstalled",
  "author": "arg0NNY",
  "version": "0.0.0",
  "invite": "M8DBtcZjXD",

  "snippets": [
    {
      "key": "opacity",
      "value": {
        "inject": "type",
        "enter": {
          "inject": "isIntersected",
          "true": 1,
          "false": [0, 1]
        },
        "exit": 0
      }
    },
    {
      "key": "directionalTranslate",
      "params": {
        "value": 5,
        "negativeValue": -5
      },
      "value": {
        "inject": "type",
        "enter": {
          "inject": "isIntersected",
          "true": {
            "inject": "direction",
            "upwards": { "y": 0 },
            "downwards": { "y": 0 },
            "leftwards": { "x": 0 },
            "rightwards": { "x": 0 }
          },
          "false": {
            "inject": "direction",
            "upwards": { "y": [{ "inject": "snippet.params", "name": "value" }, 0] },
            "downwards": { "y": [{ "inject": "snippet.params", "name": "negativeValue" }, 0] },
            "leftwards": { "x": [{ "inject": "snippet.params", "name": "value" }, 0] },
            "rightwards": { "x": [{ "inject": "snippet.params", "name": "negativeValue" }, 0] }
          }
        },
        "exit": {
          "inject": "direction",
          "upwards": { "y": { "inject": "snippet.params", "name": "negativeValue" } },
          "downwards": { "y": { "inject": "snippet.params", "name": "value" } },
          "leftwards": { "x": { "inject": "snippet.params", "name": "negativeValue" } },
          "rightwards": { "x": { "inject": "snippet.params", "name": "value" } }
        }
      }
    },
    {
      "key": "computeCircle",
      "value": [
        {
          "inject": "var.set",
          "name": "radius",
          "value": {
            "inject": "string.template",
            "template": "${value}px",
            "values": {
              "value": {
                "inject": "math.hypot",
                "values": [
                  {
                    "inject": "math.max",
                    "values": [
                      {
                        "inject": "math.abs",
                        "value": { "inject": "position", "value": "x", "clip": false }
                      },
                      {
                        "inject": "math.abs",
                        "value": {
                          "a": { "inject": "position", "value": "x", "clip": false },
                          "inject": "-",
                          "b": { "inject": "rect", "value": "width" }
                        }
                      }
                    ]
                  },
                  {
                    "inject": "math.max",
                    "values": [
                      {
                        "inject": "math.abs",
                        "value": { "inject": "position", "value": "y", "clip": false }
                      },
                      {
                        "inject": "math.abs",
                        "value": {
                          "a": { "inject": "position", "value": "y", "clip": false },
                          "inject": "-",
                          "b": { "inject": "rect", "value": "height" }
                        }
                      }
                    ]
                  }
                ]
              }
            }
          }
        },
        {
          "inject": "var.set",
          "name": "clipPathExpanded",
          "value": {
            "inject": "string.template",
            "template": "circle(${radius} at ${position})",
            "values": {
              "radius": { "inject": "var.get", "name": "radius" },
              "position": { "inject": "position", "clip": false }
            }
          }
        },
        {
          "inject": "var.set",
          "name": "clipPathCollapsed",
          "value": {
            "inject": "string.template",
            "template": "circle(0px at ${position})",
            "values": {
              "position": { "inject": "position", "clip": false }
            }
          }
        }
      ]
    }
  ],

  "animations": [

    {
      "key": "fade",
      "name": "Fade",
      "meta": {
        "override": { "preset": "accordion" }
      },
      "settings": {
        "duration": true,
        "easing": true,

        "defaults": {
          "duration": 200,
          "easing": {
            "type": "ease"
          },

          "override": {
            "for": {
              "module": ["switch", "sidebars"]
            },
            "duration": 400,
            "easing": {
              "type": "ease",
              "style": "quart"
            }
          }
        }
      },
      "animate": {
        "extends": { "inject": "accordion" },
        "anime": {
          "type": "waapi",
          "targets": { "inject": "element" },
          "parameters": {
            "duration": { "inject": "duration" },
            "ease": { "inject": "easing" },
            "opacity": {
              "inject": "snippet",
              "key": "opacity"
            }
          }
        }
      }
    },

    {
      "key": "slip",
      "name": "Slip",
      "settings": {
        "duration": true,
        "easing": true,
        "direction": true,

        "defaults": {
          "duration": 200,
          "easing": { "type": "back" },
          "direction": "upwards",

          "override": [
            {
              "for": {
                "module.type": "reveal",
                "type": "exit"
              },
              "direction": "downwards",
              "directionTowards": true
            },
            {
              "for": {
                "module": ["switch", "modals"]
              },
              "easing": {
                "type": "ease",
                "style": "quart"
              }
            },
            {
              "for": {
                "module": "channelList"
              },
              "direction": "downwards"
            },
            {
              "for": {
                "module": "channelList",
                "type": "exit"
              },
              "direction": "upwards"
            }
          ]
        }
      },
      "animate": {
        "anime": {
          "type": "waapi",
          "targets": { "inject": "element" },
          "parameters": {
            "inject": "assign",
            "target": {
              "duration": { "inject": "duration" },
              "ease": { "inject": "easing" },
              "opacity": {
                "inject": "snippet",
                "key": "opacity"
              }
            },
            "source": {
              "inject": "snippet",
              "key": "directionalTranslate",
              "params": {
                "value": 5,
                "negativeValue": -5
              }
            }
          }
        }
      }
    },

    {
      "key": "slide",
      "name": "Slide",
      "modules": ["switch", "messages", "channelList"],
      "meta": {
        "override": { "preset": "accordion" }
      },
      "settings": {
        "duration": true,
        "easing": true,
        "direction": true,
        "overflow": false,

        "defaults": {
          "duration": 600,
          "easing": {
            "type": "ease",
            "style": "quart"
          },
          "direction": "upwards",
          "overflow": false,

          "override": [
            {
              "for": {
                "module": ["messages", "channelList"]
              },
              "duration": 400,
              "direction": "rightwards",
              "overflow": true
            },
            {
              "for": {
                "module": ["messages", "channelList"],
                "type": "exit"
              },
              "direction": "leftwards"
            }
          ]
        }
      },
      "animate": {
        "extends": { "inject": "accordion" },
        "anime": {
          "type": "waapi",
          "targets": { "inject": "element" },
          "parameters": {
            "inject": "assign",
            "target": {
              "duration": { "inject": "duration" },
              "ease": { "inject": "easing" }
            },
            "source": {
              "inject": "snippet",
              "key": "directionalTranslate",
              "params": {
                "value": "100%",
                "negativeValue": "-100%"
              }
            }
          }
        }
      }
    },

    {
      "key": "scale",
      "name": "Scale",
      "settings": {
        "duration": true,
        "easing": true,
        "position": true,
        "direction": ["forwards", "backwards"],

        "defaults": {
          "duration": 200,
          "easing": { "type": "back" },
          "position": "center",
          "direction": "backwards",

          "override": [
            {
              "for": {
                "type": "exit",
                "module.type": "reveal"
              },
              "direction": "forwards"
            },
            {
              "for": {
                "module.type": "switch"
              },
              "easing": {
                "type": "ease",
                "style": "cubic"
              }
            },
            {
              "for": {
                "module": ["messages", "channelList"]
              },
              "position": "left"
            }
          ]
        }
      },
      "animate": {
        "css": {
          "{element}": {
            "transform-origin": { "inject": "position" }
          }
        },
        "anime": {
          "type": "waapi",
          "targets": { "inject": "element" },
          "parameters": {
            "duration": { "inject": "duration" },
            "ease": { "inject": "easing" },
            "opacity": {
              "inject": "snippet",
              "key": "opacity"
            },
            "scale": {
              "inject": "type",
              "enter": {
                "inject": "isIntersected",
                "true": 1,
                "false": [
                  {
                    "inject": "direction",
                    "forwards": 1.1,
                    "backwards": 0.9
                  },
                  1
                ]
              },
              "exit": {
                "inject": "direction",
                "forwards": 0.9,
                "backwards": 1.1
              }
            }
          }
        }
      }
    },

    {
      "key": "point",
      "name": "Point",
      "modules": ["popouts", "tooltips", "contextMenu"],
      "settings": {
        "duration": true,
        "easing": true,
        "position": true,

        "defaults": {
          "duration": 400,
          "easing": {
            "type": "ease",
            "bezier": "out",
            "style": "quart"
          },
          "position": "center",

          "override": [
            {
              "for": {
                "type": "exit"
              },
              "easing": {
                "type": "ease",
                "bezier": "in",
                "style": "quart"
              }
            },
            {
              "for": {
                "module": ["tooltips", "contextMenu"]
              },
              "duration": 200
            }
          ]
        }
      },
      "animate": {
        "css": {
          "{element}": {
            "transform-origin": { "inject": "position" }
          }
        },
        "onBeforeCreate": [
          {
            "inject": "var.set",
            "name": "x",
            "value": {
              "a": {
                "inject": "position",
                "value": "x",
                "clip": {
                  "a": { "inject": "module" },
                  "inject": "===",
                  "b": "contextMenu"
                }
              },
              "inject": "-",
              "b": {
                "inject": "position",
                "value": "x"
              }
            }
          },
          {
            "inject": "var.set",
            "name": "y",
            "value": {
              "a": {
                "inject": "position",
                "value": "y",
                "clip": {
                  "a": { "inject": "module" },
                  "inject": "===",
                  "b": "contextMenu"
                }
              },
              "inject": "-",
              "b": {
                "inject": "position",
                "value": "y"
              }
            }
          }
        ],
        "anime": {
          "type": "waapi",
          "targets": { "inject": "element" },
          "parameters": {
            "inject": "assign",
            "target": {
              "duration": { "inject": "duration" },
              "ease": { "inject": "easing" }
            },
            "source": {
              "inject": "type",
              "enter": {
                "inject": "isIntersected",
                "true": {
                  "x": 0,
                  "y": 0,
                  "scale": 1
                },
                "false": {
                  "x": [{ "inject": "var.get", "name": "x" }, 0],
                  "y": [{ "inject": "var.get", "name": "y" }, 0],
                  "scale": [0, 1]
                }
              },
              "exit": {
                "x": { "inject": "var.get", "name": "x" },
                "y": { "inject": "var.get", "name": "y" },
                "scale": 0
              }
            }
          }
        }
      }
    },

    {
      "key": "blur",
      "name": "Blur",
      "meta": {
        "override": { "preset": "accordion" }
      },
      "settings": {
        "duration": true,
        "easing": true,

        "defaults": {
          "duration": 200,
          "easing": { "type": "ease" },

          "override": {
            "for": {
              "module": ["switch", "sidebars"]
            },
            "duration": 400,
            "easing": {
              "type": "ease",
              "style": "quart"
            }
          }
        }
      },
      "animate": {
        "extends": { "inject": "accordion" },
        "anime": {
          "type": "waapi",
          "targets": { "inject": "element" },
          "parameters": {
            "duration": { "inject": "duration" },
            "ease": { "inject": "easing" },
            "opacity": {
              "inject": "snippet",
              "key": "opacity"
            },
            "filter": {
              "inject": "type",
              "enter": {
                "inject": "isIntersected",
                "true": "blur(0)",
                "false": ["blur(12px)", "blur(0)"]
              },
              "exit": "blur(12px)"
            }
          }
        }
      }
    },

    {
      "key": "flip",
      "name": "Flip",
      "modules": ["reveal", "sidebars"],
      "meta": {
        "override": { "preset": "accordion" }
      },
      "settings": {
        "duration": true,
        "easing": true,
        "position": true,
        "direction": ["forwards", "backwards"],
        "variant": [
          { "key": "horizontal", "name": "Horizontal" },
          { "key": "vertical", "name": "Vertical" }
        ],

        "defaults": {
          "duration": 400,
          "easing": {
            "type": "ease",
            "style": "quart"
          },
          "position": "center",
          "direction": "forwards",
          "variant": "horizontal",

          "override": [
            {
              "for": {
                "type": "exit"
              },
              "direction": "backwards"
            },
            {
              "for": {
                "module": ["tooltips", "channelList", "contextMenu"]
              },
              "duration": 200
            },
            {
              "for": {
                "module": "tooltips"
              },
              "easing": { "type": "back" }
            },
            {
              "for": {
                "module": "messages"
              },
              "position": "top"
            },
            {
              "for": {
                "module": "sidebars"
              },
              "position": "right",
              "variant": "vertical"
            }
          ]
        }
      },
      "animate": {
        "extends": {
          "inject": "accordion",
          "type": {
            "inject": "switch",
            "value": { "inject": "module" },
            "case": {
              "membersSidebar": "marginLeft",
              "threadSidebar": "marginLeft"
            },
            "default": { "inject": "undefined" }
          }
        },
        "onBeforeLayout": [
          {
            "inject": "var.set",
            "name": "origin",
            "value": {
              "inject": "string.template",
              "template": {
                "inject": "variant",
                "horizontal": "50% ${value}px",
                "vertical": "${value}px 50%"
              },
              "values": {
                "value": {
                  "inject": "position",
                  "value": {
                    "inject": "variant",
                    "horizontal": "y",
                    "vertical": "x"
                  }
                }
              }
            }
          },
          {
            "inject": "var.set",
            "name": "rotate",
            "value": {
              "inject": "type",
              "enter": {
                "inject": "isIntersected",
                "true": 0,
                "false": {
                  "from": {
                    "inject": "direction",
                    "forwards": -90,
                    "backwards": 90
                  },
                  "to": 0
                }
              },
              "exit": {
                "inject": "direction",
                "forwards": 90,
                "backwards": -90
              }
            }
          }
        ],
        "css": {
          "{container}": {
            "perspective": {
              "a": {
                "inject": "math.max",
                "values": [
                  {
                    "a": {
                      "inject": "rect",
                      "value": {
                        "inject": "variant",
                        "horizontal": "height",
                        "vertical": "width"
                      }
                    },
                    "inject": "*",
                    "b": 1.75
                  },
                  150
                ]
              },
              "inject": "+",
              "b": "px"
            },
            "perspective-origin": { "inject": "var.get", "name": "origin" }
          },
          "{element}": {
            "transform-origin": { "inject": "var.get", "name": "origin" }
          }
        },
        "anime": {
          "type": "waapi",
          "targets": { "inject": "element" },
          "parameters": {
            "inject": "assign",
            "target": {
              "duration": { "inject": "duration" },
              "ease": { "inject": "easing" },
              "opacity": {
                "inject": "snippet",
                "key": "opacity"
              }
            },
            "source": {
              "inject": "variant",
              "horizontal": {
                "rotateX": { "inject": "var.get", "name": "rotate" }
              },
              "vertical": {
                "rotateY": { "inject": "var.get", "name": "rotate" }
              }
            }
          }
        }
      }
    },

    {
      "key": "out-of-bounds",
      "name": "Out-of-bounds",
      "modules": ["popouts", "contextMenu", "modals"],
      "settings": {
        "duration": true,
        "easing": true,
        "direction": true,

        "defaults": {
          "duration": 400,
          "easing": {
            "type": "ease",
            "bezier": "out",
            "style": "quart"
          },
          "direction": "upwards",

          "override": [
            {
              "for": {
                "type": "exit"
              },
              "easing": {
                "type": "ease",
                "bezier": "in",
                "style": "quart"
              },
              "direction": "downwards",
              "directionTowards": true
            },
            {
              "for": {
                "module": "tooltips"
              },
              "duration": 200
            }
          ]
        }
      },
      "animate": {
        "css": {
          "{element}": {
            "pointer-events": "none"
          }
        },
        "onBeforeCreate": [
          {
            "inject": "var.set",
            "name": "left",
            "value": {
              "a": { "inject": "rect", "value": "left" },
              "inject": "+",
              "b": { "inject": "rect", "value": "width" }
            }
          },
          {
            "inject": "var.set",
            "name": "top",
            "value": {
              "a": { "inject": "rect", "value": "top" },
              "inject": "+",
              "b": { "inject": "rect", "value": "height" }
            }
          },
          {
            "inject": "var.set",
            "name": "right",
            "value": {
              "a": { "inject": "window", "value": "width" },
              "inject": "-",
              "b": { "inject": "rect", "value": "left" }
            }
          },
          {
            "inject": "var.set",
            "name": "bottom",
            "value": {
              "a": { "inject": "window", "value": "height" },
              "inject": "-",
              "b": { "inject": "rect", "value": "top" }
            }
          },
          {
            "inject": "var.set",
            "name": "value",
            "value": {
              "a": {
                "inject": "var.get",
                "name": {
                  "inject": "direction",
                  "rightwards": {
                    "inject": "type",
                    "enter": "left",
                    "exit": "right"
                  },
                  "downwards": {
                    "inject": "type",
                    "enter": "top",
                    "exit": "bottom"
                  },
                  "leftwards": {
                    "inject": "type",
                    "enter": "right",
                    "exit": "left"
                  },
                  "upwards": {
                    "inject": "type",
                    "enter": "bottom",
                    "exit": "top"
                  }
                }
              },
              "inject": "+",
              "b": 20
            }
          }
        ],
        "anime": {
          "type": "waapi",
          "targets": { "inject": "element" },
          "parameters": {
            "inject": "assign",
            "target": {
              "duration": { "inject": "duration" },
              "ease": { "inject": "easing" }
            },
            "source": {
              "inject": "snippet",
              "key": "directionalTranslate",
              "params": {
                "value": { "inject": "var.get", "name": "value" },
                "negativeValue": {
                  "a": { "inject": "var.get", "name": "value" },
                  "inject": "*",
                  "b": -1
                }
              }
            }
          }
        }
      }
    },

    {
      "key": "circle",
      "name": "Circle",
      "modules": ["servers", "channels", "settings", "popouts", "contextMenu", "sidebars"],
      "settings": {
        "duration": true,
        "easing": true,
        "position": true,

        "defaults": {
          "duration": 200,
          "easing": { "type": "ease" },
          "position": "center",

          "override": {
            "for": {
              "module": "switch"
            },
            "duration": 400
          }
        }
      },
      "animate": {
        "onBeforeCreate": {
          "inject": "snippet",
          "key": "computeCircle"
        },
        "css": {
          "{container}": {
            "z-index": {
              "inject": "type",
              "enter": 2,
              "exit": 1
            }
          }
        },
        "anime": {
          "type": "waapi",
          "targets": { "inject": "element" },
          "parameters": {
            "duration": { "inject": "duration" },
            "ease": { "inject": "easing" },
            "clipPath": {
              "inject": "type",
              "enter": {
                "inject": "isIntersected",
                "true": { "inject": "var.get", "name": "clipPathExpanded" },
                "false": [
                  { "inject": "var.get", "name": "clipPathCollapsed" },
                  { "inject": "var.get", "name": "clipPathExpanded" }
                ]
              },
              "exit": {
                "inject": "module.type",
                "reveal": {
                  "inject": "isIntersected",
                  "true": { "inject": "var.get", "name": "clipPathCollapsed" },
                  "false": [
                    { "inject": "var.get", "name": "clipPathExpanded" },
                    { "inject": "var.get", "name": "clipPathCollapsed" }
                  ]
                },
                "switch": []
              }
            },
            "opacity": {
              "inject": "module.type",
              "switch": {
                "inject": "type",
                "exit": [1, 0],
                "enter": []
              },
              "reveal": []
            }
          }
        }
      }
    },

    {
      "key": "circle-scale",
      "name": "Circle Scale",
      "modules": "switch",
      "settings": {
        "duration": true,
        "easing": true,
        "position": true,
        "direction": ["forwards", "backwards"],

        "defaults": {
          "duration": 400,
          "easing": { "type": "ease" },
          "position": "center",
          "positionPreserve": true,
          "direction": "forwards"
        }
      },
      "animate": {
        "extends": {
          "inject": "if",
          "value": {
            "a": {
              "a": { "a": { "inject": "type" }, "inject": "===", "b": "enter" },
              "inject": "&&",
              "b": { "a": { "inject": "direction" }, "inject": "===", "b": "forwards" }
            },
            "inject": "||",
            "b": {
              "a": { "a": { "inject": "type" }, "inject": "===", "b": "exit" },
              "inject": "&&",
              "b": { "a": { "inject": "direction" }, "inject": "===", "b": "backwards" }
            }
          },
          "then": {
            "inject": "raw",
            "value": {
              "css": {
                "{container}": {
                  "z-index": 2
                }
              },
              "onBeforeCreate": {
                "inject": "snippet",
                "key": "computeCircle"
              },
              "anime": {
                "type": "waapi",
                "targets": { "inject": "element" },
                "parameters": {
                  "duration": { "inject": "duration" },
                  "ease": { "inject": "easing" },
                  "clipPath": {
                    "inject": "type",
                    "enter": [
                      { "inject": "var.get", "name": "clipPathCollapsed" },
                      { "inject": "var.get", "name": "clipPathExpanded" }
                    ],
                    "exit": [
                      { "inject": "var.get", "name": "clipPathExpanded" },
                      { "inject": "var.get", "name": "clipPathCollapsed" }
                    ]
                  }
                }
              }
            }
          },
          "else": {
            "inject": "raw",
            "value": {
              "css": {
                "{container}": {
                  "z-index": 1
                },
                "{element}": {
                  "transform-origin": { "inject": "position" }
                }
              },
              "anime": {
                "type": "waapi",
                "targets": { "inject": "element" },
                "parameters": {
                  "duration": { "inject": "duration" },
                  "ease": { "inject": "easing" },
                  "opacity": {
                    "inject": "snippet",
                    "key": "opacity"
                  },
                  "scale": {
                    "inject": "type",
                    "enter": {
                      "inject": "direction",
                      "backwards": [1.1, 1],
                      "forwards": [0.9, 1]
                    },
                    "exit": {
                      "inject": "direction",
                      "backwards": 0.9,
                      "forwards": 1.1
                    }
                  }
                }
              }
            }
          }
        }
      }
    },

    {
      "key": "drawer",
      "name": "Drawer",
      "modules": ["servers", "channels", "settings", "popouts", "contextMenu"],
      "settings": {
        "duration": true,
        "position": true,

        "defaults": {
          "duration": 300,
          "position": "center",

          "override": {
            "for": {
              "module.type": "switch"
            },
            "duration": 500
          }
        }
      },
      "animate": {
        "onBeforeCreate": [
          {
            "inject": "var.set",
            "name": "value",
            "value": {
              "a": {
                "inject": "position",
                "value": "y",
                "unit": "%",
                "clip": false
              },
              "inject": "*",
              "b": 100
            }
          },
          {
            "inject": "var.set",
            "name": "isSwitchExit",
            "value": {
              "a": {
                "a": { "inject": "module.type" },
                "inject": "===",
                "b": "switch"
              },
              "inject": "&&",
              "b": {
                "a": { "inject": "type" },
                "inject": "===",
                "b": "exit"
              }
            }
          },
          {
            "inject": "var.set",
            "name": "collapsed",
            "value": {
              "inject": "if",
              "value": { "inject": "var.get", "name": "isSwitchExit" },
              "then": "polygon(0% 0%, 0% 0%, 100% 0%, 100% 100%, 0% 100%, 0% 100%, 100% 100%, 100% 0%)",
              "else": {
                "inject": "string.template",
                "template": "polygon(0% ${value}%, 100% ${value}%, 100% ${value}%, 0% ${value}%)",
                "values": {
                  "value": { "inject": "var.get", "name": "value" }
                }
              }
            }
          },
          {
            "inject": "var.set",
            "name": "expanded",
            "value": {
              "inject": "if",
              "value": { "inject": "var.get", "name": "isSwitchExit" },
              "then": {
                "inject": "string.template",
                "template": "polygon(0% 0%, 0% ${value}%, 100% ${value}%, 100% ${value}%, 0% ${value}%, 0% 100%, 100% 100%, 100% 0%)",
                "values": {
                  "value": { "inject": "var.get", "name": "value" }
                }
              },
              "else": "polygon(0% 0%, 100% 0%, 100% 100%, 0% 100%)"
            }
          },
          {
            "inject": "var.set",
            "name": "translate",
            "value": {
              "a": {
                "inject": "math",
                "expression": {
                  "inject": "string.template",
                  "template": "(${value} - 0.5) * 100",
                  "values": {
                    "value": {
                      "inject": "position",
                      "value": "x",
                      "unit": "%",
                      "clip": false
                    }
                  }
                }
              },
              "inject": "+",
              "b": "%"
            }
          },
          {
            "inject": "var.set",
            "name": "translateParameters",
            "value": {
              "inject": "type",
              "enter": {
                "inject": "isIntersected",
                "true": "0%",
                "false": {
                  "from": { "inject": "var.get", "name": "translate" },
                  "to": "0%"
                }
              },
              "exit": { "inject": "var.get", "name": "translate" }
            }
          }
        ],
        "anime": {
          "type": "waapi",
          "targets": { "inject": "element" },
          "parameters": {
            "inject": "assign",
            "target": {
              "duration": { "inject": "duration" },
              "ease": {
                "inject": "type",
                "enter": "cubicBezier(.25,0,0,1)",
                "exit": "cubicBezier(1,0,.75,1)"
              },
              "opacity": {
                "inject": "snippet",
                "key": "opacity"
              },
              "clipPath": {
                "inject": "assign",
                "target": {
                  "ease": {
                    "inject": "type",
                    "enter": "cubicBezier(1,0,.25,1)",
                    "exit": "cubicBezier(.75,0,0,1)"
                  },
                  "to": {
                    "inject": "var.get",
                    "name": {
                      "inject": "type",
                      "enter": "expanded",
                      "exit": "collapsed"
                    }
                  }
                },
                "source": {
                  "inject": "isIntersected",
                  "true": {},
                  "false": {
                    "from": {
                      "inject": "var.get",
                      "name": {
                        "inject": "type",
                        "enter": "collapsed",
                        "exit": "expanded"
                      }
                    }
                  }
                }
              }
            },
            "source": {
              "inject": "if",
              "value": { "inject": "var.get", "name": "isSwitchExit" },
              "then": {},
              "else": {
                "x": { "inject": "var.get", "name": "translateParameters" }
              }
            }
          }
        }
      }
    },

    {
      "key": "wave",
      "name": "Wave",
      "modules": ["servers", "channels", "settings"],
      "settings": {
        "duration": true,

        "defaults": {
          "duration": 1000
        }
      },
      "enter": {
        "anime": {
          "type": "timer",
          "parameters": {
            "duration": { "inject": "duration" }
          }
        }
      },
      "exit": {
        "hast": {
          "type": "element",
          "tagName": "svg",
          "properties": {
            "className": "overlay",
            "width": "100%",
            "height": "100%",
            "viewBox": "0 0 100 100",
            "preserveAspectRatio": "none"
          },
          "children": [
            {
              "type": "element",
              "tagName": "path",
              "properties": {
                "className": "overlay__path",
                "vectorEffect": "non-scaling-stroke",
                "d": "M 0 0 h 0 c 0 50 0 50 0 100 H 0 V 0 Z",
                "fill": "var(--bg-base-tertiary)"
              }
            }
          ]
        },
        "css": {
          ".overlay": {
            "inset": 0,
            "z-index": 5
          }
        },
        "anime": {
          "type": "timeline",
          "children": [
            {
              "targets": ".overlay__path",
              "parameters": {
                "duration": {
                  "a": 0.3720930233,
                  "inject": "*",
                  "b": { "inject": "duration" }
                },
                "ease": "inQuart",
                "d": [
                  "M 0 0 h 0 c 0 50 0 50 0 100 H 0 V 0 Z",
                  "M 0 0 h 43 c -60 55 140 65 0 100 H 0 V 0 Z"
                ]
              }
            },
            {
              "targets": ".overlay__path",
              "parameters": {
                "duration": {
                  "a": 0.0930232558,
                  "inject": "*",
                  "b": { "inject": "duration" }
                },
                "ease": "outSine",
                "d": "M 0 0 h 100 c 0 50 0 50 0 100 H 0 V 0 Z"
              }
            },
            {
              "type": "set",
              "targets": { "inject": "element" },
              "parameters": {
                "opacity": 0
              }
            },
            {
              "targets": ".overlay__path",
              "parameters": {
                "duration": {
                  "a": 0.0697674419,
                  "inject": "*",
                  "b": { "inject": "duration" }
                },
                "ease": "inSine",
                "d": [
                  "M 100 0 H 0 c 0 50 0 50 0 100 h 100 V 50 Z",
                  "M 100 0 H 50 c 28 43 4 81 0 100 h 50 V 0 Z"
                ]
              }
            },
            {
              "targets": ".overlay__path",
              "parameters": {
                "duration": {
                  "a": 0.4651162791,
                  "inject": "*",
                  "b": { "inject": "duration" }
                },
                "ease": "outExpo",
                "d": "M 100 0 H 100 c 0 50 0 50 0 100 h 0 V 0 Z"
              }
            }
          ]
        }
      }
    },

    {
      "key": "backdrop-solid",
      "name": "Solid",
      "modules": "modalsBackdrop",
      "meta": {
        "revert": false
      },
      "settings": {
        "duration": true,
        "easing": true,
        "variant": [
          { "key": "dark", "name": "Dark" },
          { "key": "light", "name": "Light" }
        ],

        "defaults": {
          "duration": 200,
          "easing": {
            "type": "ease",
            "style": "quart"
          },
          "variant": "dark"
        }
      },
      "animate": {
        "onBeforeCreate": [
          {
            "inject": "var.set",
            "name": "hidden",
            "value": {
              "inject": "variant",
              "dark": "rgba(0, 0, 0, 0)",
              "light": "rgba(255, 255, 255, 0)"
            }
          },
          {
            "inject": "var.set",
            "name": "visible",
            "value": {
              "inject": "variant",
              "dark": "rgba(0, 0, 0, .7)",
              "light": "rgba(255, 255, 255, .7)"
            }
          }
        ],
        "anime": {
          "type": "waapi",
          "targets": { "inject": "element" },
          "parameters": {
            "duration": { "inject": "duration" },
            "ease": { "inject": "easing" },
            "background": {
              "inject": "type",
              "enter": {
                "inject": "isIntersected",
                "true": { "inject": "var.get", "name": "visible" },
                "false": [
                  { "inject": "var.get", "name": "hidden" },
                  { "inject": "var.get", "name": "visible" }
                ]
              },
              "exit": { "inject": "var.get", "name": "hidden" }
            }
          }
        }
      }
    },

    {
      "key": "backdrop-blur",
      "name": "Blur",
      "modules": "modalsBackdrop",
      "meta": {
        "revert": false
      },
      "settings": {
        "duration": true,
        "easing": true,
        "variant": [
          { "key": "dark", "name": "Dark" },
          { "key": "light", "name": "Light" }
        ],

        "defaults": {
          "duration": 200,
          "easing": {
            "type": "ease",
            "style": "quart"
          },
          "variant": "dark"
        }
      },
      "animate": {
        "extends": {
          "inject": "load",
          "animation": "backdrop-solid"
        },
        "anime": {
          "type": "waapi",
          "targets": { "inject": "element" },
          "parameters": {
            "duration": { "inject": "duration" },
            "ease": { "inject": "easing" },
            "backdropFilter": {
              "inject": "type",
              "enter": {
                "inject": "isIntersected",
                "true": "blur(2px)",
                "false": ["blur(0px)", "blur(2px)"]
              },
              "exit": "blur(0px)"
            }
          }
        }
      }
    },

    {
      "key": "backdrop-grayscale",
      "name": "Grayscale",
      "modules": "modalsBackdrop",
      "meta": {
        "revert": false
      },
      "settings": {
        "duration": true,
        "easing": true,
        "variant": [
          { "key": "dark", "name": "Dark" },
          { "key": "light", "name": "Light" }
        ],

        "defaults": {
          "duration": 200,
          "easing": {
            "type": "ease",
            "style": "quart"
          },
          "variant": "dark"
        }
      },
      "animate": {
        "extends": {
          "inject": "load",
          "animation": "backdrop-solid"
        },
        "anime": {
          "type": "waapi",
          "targets": { "inject": "element" },
          "parameters": {
            "duration": { "inject": "duration" },
            "ease": { "inject": "easing" },
            "backdropFilter": {
              "inject": "type",
              "enter": {
                "inject": "isIntersected",
                "true": "grayscale(1)",
                "false": ["grayscale(0)", "grayscale(1)"]
              },
              "exit": "grayscale(0)"
            }
          }
        }
      }
    }

  ]
}
