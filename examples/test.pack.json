{
  "name": "test",
  "author": "arg0NNY",
  "version": "0.0.2",
  "invite": "M8DBtcZjXD",

  "animations": [

    {
      "key": "example",
      "name": "Example animation",
      "settings": {
        "variant": [
          {
            "key": "black",
            "name": "Black"
          },
          {
            "key": "white",
            "name": "White"
          }
        ],
        "duration": true,
        "easing": true,
        "direction": ["upwards", "downwards", "leftwards", "rightwards", "forwards", "backwards"],
        "overflow": false,

        "defaults": {
          "variant": "black",
          "duration": 500,
          "easing": "easeInOutQuad",
          "direction": "rightwards",
          "overflow": false
        }
      },
      "enter": {
        "hast": [
          {
            "type": "element",
            "tagName": "div",
            "properties": {
              "className": "el"
            }
          },
          {
            "type": "element",
            "tagName": "div",
            "properties": {
              "className": "el"
            }
          },
          {
            "type": "element",
            "tagName": "div",
            "properties": {
              "className": "el"
            }
          },
          {
            "type": "element",
            "tagName": "div",
            "properties": {
              "className": "el"
            }
          }
        ],
        "css": {
          ".el": {
            "inset": 0,
            "z-index": 20
          },
          "{element}": {
            "position": "relative",
            "z-index": 20
          },
          ".el:nth-child(odd)": {
            "background": {
              "inject": "variant",
              "black": "#000",
              "white": "#FFF"
            }
          },
          ".el:nth-child(even)": {
            "background": "#5662f6"
          }
        },
        "anime": [
          {
            "inject": "Object.assign",
            "target": {
              "targets": [".el", { "inject": "element" }],
              "delay": {
                "inject": "anime.stagger",
                "value": 80
              },
              "duration": { "inject": "duration" },
              "easing": { "inject": "easing" }
            },
            "source": {
              "inject": "direction",
              "upwards": { "translateY": ["100%", 0] },
              "downwards": { "translateY": ["-100%", 0] },
              "leftwards": { "translateX": ["100%", 0] },
              "rightwards": { "translateX": ["-100%", 0] },
              "forwards": { "scale": [1.1, 1], "opacity": [0, 1] },
              "backwards": { "scale": [0.9, 1], "opacity": [0, 1] }
            }
          }
        ],
        "onDestroyed": {
          "inject": "style.removeProperty",
          "property": ["opacity", "transform"]
        }
      },
      "exit": {
        "anime": {
          "inject": "Object.assign",
          "target": {
            "targets": { "inject": "element" },
            "duration": {
              "inject": "math",
              "expression": {
                "inject": "string.template",
                "template": "${duration} + (80 * 4)",
                "values": {
                  "duration": { "inject": "duration" }
                }
              }
            },
            "easing": { "inject": "easing" }
          },
          "source": {
            "inject": "direction",
            "upwards": { "translateY": "-30%" },
            "downwards": { "translateY": "30%" },
            "leftwards": { "translateX": "-30%" },
            "rightwards": { "translateX": "30%" },
            "forwards": { "scale": 0.9, "opacity": 0 },
            "backwards": { "scale": 1.1, "opacity": 0 }
          }
        },
        "onDestroyed": {
          "inject": "style.removeProperty",
          "property": ["opacity", "transform"]
        }
      }
    },

    {
      "key": "reveal",
      "name": "Reveal",
      "settings": {
        "position": true,
        "duration": true,
        "easing": true,
        "direction": ["forwards", "backwards"],

        "defaults": {
          "enter": {
            "position": "center",
            "duration": 200,
            "easing": "easeOutBack",
            "direction": "backwards"
          },
          "exit": {
            "position": "center",
            "duration": 200,
            "easing": "easeOutBack",
            "direction": "forwards"
          }
        }
      },
      "animate": {
        "css": {
          "{element}": {
            "transform-origin": { "inject": "position" },
            "z-index": {
              "inject": "type",
              "enter": 10,
              "exit": 5
            }
          }
        },
        "anime": {
          "inject": "Object.assign",
          "target": {
            "targets": { "inject": "element" },
            "duration": { "inject": "duration" },
            "easing": { "inject": "easing" }
          },
          "source": [
            {
              "inject": "type",
              "enter": {
                "opacity": [0, 1]
              },
              "exit": {
                "opacity": 0
              }
            },
            {
              "inject": "type",
              "enter": {
                "inject": "isIntersected",
                "true": { "scale": 1 },
                "false": {
                  "inject": "direction",
                  "forwards": { "scale": [1.1, 1] },
                  "backwards": { "scale": [0.9, 1] }
                }
              },
              "exit": {
                "inject": "direction",
                "forwards": { "scale": 0.9 },
                "backwards": { "scale": 1.1 }
              }
            }
          ]
        },
        "onDestroyed": {
          "inject": "style.removeProperty",
          "property": ["opacity", "transform"]
        }
      }
    },

    {
      "key": "slip",
      "name": "Slip",
      "settings": {
        "duration": true,
        "easing": true,
        "direction": true,

        "defaults": {
          "duration": 200,
          "easing": "easeInOutQuart",
          "direction": "upwards"
        }
      },
      "animate": {
        "anime": {
          "inject": "Object.assign",
          "target": {
            "targets": { "inject": "element" },
            "duration": { "inject": "duration" },
            "easing": { "inject": "easing" },
            "opacity": {
              "inject": "type",
              "enter": {
                "inject": "module.type",
                "reveal": [0, 1],
                "switch": 1
              },
              "exit": 0
            }
          },
          "source": {
            "inject": "type",
            "enter": {
              "inject": "direction",
              "upwards": { "translateY": ["5px", 0] },
              "downwards": { "translateY": ["-5px", 0] },
              "leftwards": { "translateX": ["5px", 0] },
              "rightwards": { "translateX": ["-5px", 0] }
            },
            "exit": {
              "inject": "direction",
              "upwards": { "translateY": "-5px" },
              "downwards": { "translateY": "5px" },
              "leftwards": { "translateX": "-5px" },
              "rightwards": { "translateX": "5px" }
            }
          }
        },
        "onDestroyed": {
          "inject": "style.removeProperty",
          "property": ["opacity", "transform"]
        }
      }
    },

    {
      "key": "slip-no-settings",
      "name": "Slip (No settings)",
      "animate": {
        "anime": {
          "inject": "Object.assign",
          "target": {
            "targets": { "inject": "element" },
            "duration": { "inject": "duration" },
            "easing": { "inject": "easing" },
            "opacity": {
              "inject": "type",
              "enter": [0, 1],
              "exit": 0
            }
          },
          "source": {
            "inject": "type",
            "enter": {
              "inject": "direction",
              "upwards": { "translateY": ["5px", 0] },
              "downwards": { "translateY": ["-5px", 0] },
              "leftwards": { "translateX": ["5px", 0] },
              "rightwards": { "translateX": ["-5px", 0] }
            },
            "exit": {
              "inject": "direction",
              "upwards": { "translateY": "-5px" },
              "downwards": { "translateY": "5px" },
              "leftwards": { "translateX": "-5px" },
              "rightwards": { "translateX": "5px" }
            }
          }
        },
        "onDestroyed": {
          "inject": "style.removeProperty",
          "property": ["opacity", "transform"]
        }
      }
    },

    {
      "key": "sidebar",
      "name": "Sidebar",
      "meta": {
        "modules": "sidebars",
        "forceDisableInternalExpandCollapseAnimations": true
      },
      "settings": {
        "duration": true,
        "easing": true,

        "defaults": {
          "duration": 400,
          "easing": "easeInOutQuint"
        }
      },
      "animate": {
        "css": {
          "{container}": {
            "perspective": "1750px",
            "perspective-origin": "right center"
          },
          "{element}": {
            "position": "absolute",
            "top": 0,
            "right": 0,
            "height": "100%",
            "transform-origin": "right center"
          }
        },
        "anime": [
          {
            "targets": { "inject": "container" },
            "duration": { "inject": "duration" },
            "easing": { "inject": "easing" },
            "width": {
              "inject": "type",
              "enter": [0, {
                "inject": "anime.get",
                "property": "width"
              }],
              "exit": [{
                "inject": "anime.get",
                "target": { "inject": "container" },
                "property": "width"
              }, 0]
            }
          },
          {
            "targets": { "inject": "element" },
            "duration": { "inject": "duration" },
            "easing": { "inject": "easing" },
            "rotateY": {
              "inject": "type",
              "enter": ["-90deg", 0],
              "exit": "-90deg"
            }
          }
        ],
        "onDestroyed": [
          {
            "inject": "style.removeProperty",
            "target": { "inject": "container" },
            "property": "width"
          },
          {
            "inject": "style.removeProperty",
            "property": "transform"
          }
        ]
      }
    },

    {
      "key": "circle",
      "name": "Circle",
      "settings": {
        "duration": true,
        "easing": true,
        "position": true,

        "defaults": {
          "duration": 200,
          "easing": "easeInOutSine",
          "position": "center"
        }
      },
      "animate": {
        "onBeforeCreate": [
          {
            "inject": "var.set",
            "name": "radius",
            "value": {
              "inject": "string.template",
              "template": "${value}px",
              "values": {
                "value": {
                  "inject": "Math.hypot",
                  "values": [
                    {
                      "inject": "Math.max",
                      "values": [
                        {
                          "inject": "Math.abs",
                          "value": { "inject": "position", "value": "x", "clip": false }
                        },
                        {
                          "inject": "Math.abs",
                          "value": {
                            "inject": "math",
                            "expression": {
                              "inject": "string.template",
                              "template": "${0} - ${1}",
                              "values": [
                                { "inject": "position", "value": "x", "clip": false },
                                { "inject": "getBoundingClientRect", "value": "width" }
                              ]
                            }
                          }
                        }
                      ]
                    },
                    {
                      "inject": "Math.max",
                      "values": [
                        {
                          "inject": "Math.abs",
                          "value": { "inject": "position", "value": "y", "clip": false }
                        },
                        {
                          "inject": "Math.abs",
                          "value": {
                            "inject": "math",
                            "expression": {
                              "inject": "string.template",
                              "template": "${0} - ${1}",
                              "values": [
                                { "inject": "position", "value": "y", "clip": false },
                                { "inject": "getBoundingClientRect", "value": "height" }
                              ]
                            }
                          }
                        }
                      ]
                    }
                  ]
                }
              }
            }
          },
          {
            "inject": "var.set",
            "name": "clipPathExpanded",
            "value": {
              "inject": "string.template",
              "template": "circle(${radius} at ${position})",
              "values": {
                "radius": { "inject": "var.get", "name": "radius" },
                "position": { "inject": "position", "clip": false }
              }
            }
          },
          {
            "inject": "var.set",
            "name": "clipPathCollapsed",
            "value": {
              "inject": "string.template",
              "template": "circle(0px at ${position})",
              "values": {
                "position": { "inject": "position", "clip": false }
              }
            }
          }
        ],
        "css": {
          "{element}": {
            "z-index": {
              "inject": "type",
              "enter": 10,
              "exit": 5
            }
          }
        },
        "anime": {
          "targets": { "inject": "element" },
          "duration": { "inject": "duration" },
          "easing": { "inject": "easing" },
          "clipPath": {
            "inject": "function",
            "return": {
              "inject": "type",
              "enter": {
                "inject": "isIntersected",
                "true": { "inject": "var.get", "name": "clipPathExpanded" },
                "false": [
                  { "inject": "var.get", "name": "clipPathCollapsed" },
                  { "inject": "var.get", "name": "clipPathExpanded" }
                ]
              },
              "exit": {
                "inject": "module.type",
                "reveal": {
                  "inject": "isIntersected",
                  "true": { "inject": "var.get", "name": "clipPathCollapsed" },
                  "false": [
                    { "inject": "var.get", "name": "clipPathExpanded" },
                    { "inject": "var.get", "name": "clipPathCollapsed" }
                  ]
                },
                "switch": []
              }
            }
          }
        },
        "onDestroyed": [
          {
            "inject": "style.removeProperty",
            "property": "clip-path"
          },
          {
            "inject": "style.removeProperty",
            "target": { "inject": "anchor" },
            "property": "transform"
          }
        ]
      }
    }

  ]
}
